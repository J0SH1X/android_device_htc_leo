From c3389361a7cf3a55129ce7450ad880d37021f407 Mon Sep 17 00:00:00 2001
From: maniacx <macs18max@gmail.com>
Date: Sat, 3 Sep 2016 07:23:16 +0800
Subject: [PATCH 1/2] qsd8k: Add qsd8k as qcom board and disable QCOM_BSP

Change-Id: I5af12e3dbc75fa3cc5bb6963ea4ddc8267fb8cd5
---
 core/qcom_target.mk | 9 ++++++---
 core/qcom_utils.mk  | 1 +
 2 files changed, 7 insertions(+), 3 deletions(-)

diff --git a/core/qcom_target.mk b/core/qcom_target.mk
index 2dde2d9..d336987 100644
--- a/core/qcom_target.mk
+++ b/core/qcom_target.mk
@@ -24,10 +24,13 @@ endef
 ifeq ($(BOARD_USES_QCOM_HARDWARE),true)
 
     qcom_flags := -DQCOM_HARDWARE
-    qcom_flags += -DQCOM_BSP
-    qcom_flags += -DQTI_BSP
+    ifeq ($(filter qsd8k,$(TARGET_BOARD_PLATFORM)),)
+        qcom_flags += -DQCOM_BSP
+        qcom_flags += -DQTI_BSP
+
+        TARGET_USES_QCOM_BSP := true
+    endif
 
-    TARGET_USES_QCOM_BSP := true
 
     # Tell HALs that we're compiling an AOSP build with an in-line kernel
     TARGET_COMPILE_WITH_MSM_KERNEL := true
diff --git a/core/qcom_utils.mk b/core/qcom_utils.mk
index 50e0b4e..31622d8 100755
--- a/core/qcom_utils.mk
+++ b/core/qcom_utils.mk
@@ -18,6 +18,7 @@ QCOM_BOARD_PLATFORMS += msm8994
 QCOM_BOARD_PLATFORMS += msm8996
 QCOM_BOARD_PLATFORMS += msm_bronze
 QCOM_BOARD_PLATFORMS += apq8084
+QCOM_BOARD_PLATFORMS += qsd8k
 
 MSM7K_BOARD_PLATFORMS := msm7x30
 MSM7K_BOARD_PLATFORMS += msm7x27
-- 
1.9.1

